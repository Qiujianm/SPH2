# SPH2

🚀 Hysteria2 一键安装管理脚本

## 功能特点

- 一键式安装管理
- 支持服务端/客户端配置
- 完整的服务状态监控
- 支持多客户端配置共存
- 系统优化支持
- 支持国内外服务器安装

## 快速开始

### 安装

```bash
# 通过 curl 安装
bash <(curl -fsSL https://raw.githubusercontent.com/Qiujianm/SPH2/main/setup.sh)

# 或通过 wget 安装
bash <(wget -qO- https://raw.githubusercontent.com/Qiujianm/SPH2/main/setup.sh)
```

### 使用

```bash
h2
```

## 菜单说明

### 1. 主菜单
```
════════ Hysteria 管理脚本 ════════
1. 安装模式
2. 服务端管理
3. 客户端管理
4. 系统优化
5. 检查更新
6. 运行状态
7. 完全卸载
0. 退出脚本
```

### 2. 服务端管理
```
═══════ Hysteria 服务端管理 ═══════
1. 启动服务端
2. 停止服务端
3. 重启服务端
4. 查看服务端状态
6. 全自动生成配置
7. 手动生成配置
0. 返回主菜单
```

### 3. 客户端管理
```
═══════ Hysteria 客户端管理 ═══════
1. 启动客户端
2. 停止客户端
3. 重启客户端
4. 查看客户端状态
5. 删除客户端配置
0. 返回主菜单
```

## 配置文件位置

- 服务端配置：`/etc/hysteria/config.yaml`
- 客户端配置：`/root/H2/*.json`
- 证书文件位置：`/etc/hysteria/server.crt` 和 `/etc/hysteria/server.key`

## 功能说明

### 安装模式
- 支持国内外服务器安装
- 安装前自动清理残留
- 仅安装核心程序，不进行配置

### 服务端管理
- 支持自动生成配置
- 支持手动自定义配置
- 自动生成自签名证书
- 统一的服务管理

### 客户端管理
- 支持多配置共存
- 端口冲突检测
- 配置文件管理
- 运行状态监控

### 系统优化
- 优化内核参数
- 优化系统限制
- 提升网络性能

### 其他功能
- 一键更新
- 状态监控
- 完全卸载

## 系统要求

- 支持 systemd 的 Linux 系统
- root 权限
- curl 或 wget
- openssl

## 常见问题

1. **如何更新？**
   - 使用主菜单中的"检查更新"选项

2. **配置文件在哪？**
   - 服务端：`/etc/hysteria/config.yaml`
   - 客户端：`/root/H2/`目录下的json文件

3. **如何卸载？**
   - 使用主菜单中的"完全卸载"选项

## 注意事项

1. 安装前会清理所有已存在的配置
2. 每个客户端配置使用独立的端口
3. 建议在使用前进行系统优化
4. 支持一键完全卸载

## 作者

[@Qiujianm](https://github.com/Qiujianm)

## 开源协议

[MIT License](LICENSE)
